window.data = 
	Player1:
		name: "Player1"
		brief: "2014-UnknowSchool-UnknowDepartment"
		detail: "<span>他</span>，用舞蹈诠释一个个动人的故事，用歌声融合民族和流行的元素，每一次出现，都带给我们意想不到的惊喜。神秘的面具，让人惊叹的舞步，让我们在这个冬天为他的舞姿而疯狂。他就是来自中国传媒大学13广电工的胡西塔尔。 一个有着民族血液，却踩着现代舞步的哈萨克族男孩。决赛之夜，面具王子会为我们讲述怎样精彩的故事呢？让我们拭目以待!"
		pic: "/img/player_cap.jpg"
	Player2:
		name: "Player2"
		brief: "2014-UnknowSchool-UnknowDepartment"
		detail: "<span>他</span>，用舞蹈诠释一个个动人的故事，用歌声融合民族和流行的元素，每一次出现，都带给我们意想不到的惊喜。神秘的面具，让人惊叹的舞步，让我们在这个冬天为他的舞姿而疯狂。他就是来自中国传媒大学13广电工的胡西塔尔。 一个有着民族血液，却踩着现代舞步的哈萨克族男孩。决赛之夜，面具王子会为我们讲述怎样精彩的故事呢？让我们拭目以待!"
		pic: "/img/player_cap.jpg"
	Player3:
		name: "Player3"
		brief: "2014-UnknowSchool-UnknowDepartment"
		detail: "<span>他</span>，用舞蹈诠释一个个动人的故事，用歌声融合民族和流行的元素，每一次出现，都带给我们意想不到的惊喜。神秘的面具，让人惊叹的舞步，让我们在这个冬天为他的舞姿而疯狂。他就是来自中国传媒大学13广电工的胡西塔尔。 一个有着民族血液，却踩着现代舞步的哈萨克族男孩。决赛之夜，面具王子会为我们讲述怎样精彩的故事呢？让我们拭目以待!"
		pic: "/img/player_cap.jpg"
	Player4:
		name: "Player4"
		brief: "2014-UnknowSchool-UnknowDepartment"
		detail: "<span>他</span>，用舞蹈诠释一个个动人的故事，用歌声融合民族和流行的元素，每一次出现，都带给我们意想不到的惊喜。神秘的面具，让人惊叹的舞步，让我们在这个冬天为他的舞姿而疯狂。他就是来自中国传媒大学13广电工的胡西塔尔。 一个有着民族血液，却踩着现代舞步的哈萨克族男孩。决赛之夜，面具王子会为我们讲述怎样精彩的故事呢？让我们拭目以待!"
		pic: "/img/player_cap.jpg"
	Player5:
		name: "Player5"
		brief: "2014-UnknowSchool-UnknowDepartment"
		detail: "<span>他</span>，用舞蹈诠释一个个动人的故事，用歌声融合民族和流行的元素，每一次出现，都带给我们意想不到的惊喜。神秘的面具，让人惊叹的舞步，让我们在这个冬天为他的舞姿而疯狂。他就是来自中国传媒大学13广电工的胡西塔尔。 一个有着民族血液，却踩着现代舞步的哈萨克族男孩。决赛之夜，面具王子会为我们讲述怎样精彩的故事呢？让我们拭目以待!"
		pic: "/img/player_cap.jpg"
	Player6:
		name: "Player6"
		brief: "2014-UnknowSchool-UnknowDepartment"
		detail: "<span>他</span>，用舞蹈诠释一个个动人的故事，用歌声融合民族和流行的元素，每一次出现，都带给我们意想不到的惊喜。神秘的面具，让人惊叹的舞步，让我们在这个冬天为他的舞姿而疯狂。他就是来自中国传媒大学13广电工的胡西塔尔。 一个有着民族血液，却踩着现代舞步的哈萨克族男孩。决赛之夜，面具王子会为我们讲述怎样精彩的故事呢？让我们拭目以待!"
		pic: "/img/player_cap.jpg"
	Player7:
		name: "Player7"
		brief: "2014-UnknowSchool-UnknowDepartment"
		detail: "<span>他</span>，用舞蹈诠释一个个动人的故事，用歌声融合民族和流行的元素，每一次出现，都带给我们意想不到的惊喜。神秘的面具，让人惊叹的舞步，让我们在这个冬天为他的舞姿而疯狂。他就是来自中国传媒大学13广电工的胡西塔尔。 一个有着民族血液，却踩着现代舞步的哈萨克族男孩。决赛之夜，面具王子会为我们讲述怎样精彩的故事呢？让我们拭目以待!"
		pic: "/img/player_cap.jpg"
	Player8:
		name: "Player8"
		brief: "2014-UnknowSchool-UnknowDepartment"
		detail: "<span>他</span>，用舞蹈诠释一个个动人的故事，用歌声融合民族和流行的元素，每一次出现，都带给我们意想不到的惊喜。神秘的面具，让人惊叹的舞步，让我们在这个冬天为他的舞姿而疯狂。他就是来自中国传媒大学13广电工的胡西塔尔。 一个有着民族血液，却踩着现代舞步的哈萨克族男孩。决赛之夜，面具王子会为我们讲述怎样精彩的故事呢？让我们拭目以待!"
		pic: "/img/player_cap.jpg"
	Player9:
		name: "Player9"
		brief: "2014-UnknowSchool-UnknowDepartment"
		detail: "<span>他</span>，用舞蹈诠释一个个动人的故事，用歌声融合民族和流行的元素，每一次出现，都带给我们意想不到的惊喜。神秘的面具，让人惊叹的舞步，让我们在这个冬天为他的舞姿而疯狂。他就是来自中国传媒大学13广电工的胡西塔尔。 一个有着民族血液，却踩着现代舞步的哈萨克族男孩。决赛之夜，面具王子会为我们讲述怎样精彩的故事呢？让我们拭目以待!"
		pic: "/img/player_cap.jpg"
	Player10:
		name: "Player10"
		brief: "2014-UnknowSchool-UnknowDepartment"
		detail: "<span>他</span>，用舞蹈诠释一个个动人的故事，用歌声融合民族和流行的元素，每一次出现，都带给我们意想不到的惊喜。神秘的面具，让人惊叹的舞步，让我们在这个冬天为他的舞姿而疯狂。他就是来自中国传媒大学13广电工的胡西塔尔。 一个有着民族血液，却踩着现代舞步的哈萨克族男孩。决赛之夜，面具王子会为我们讲述怎样精彩的故事呢？让我们拭目以待!"
		pic: "/img/player_cap.jpg"

window.base =
	Init : () ->
		window.base.ResetSquireDivHeight()
		window.base.ResetInfoDivPosition()
		window.base.ResetGoBackButtonPosition()
		window.base.HeadRoom()
		window.base.ChangeBackground()
		window.base.ClickToShowModal()
		window.base.ClicktoHideModal()
		unless window.base.usingComputer()
			window.mobile.Init()

	# Is using Pad or Phone?
	usingComputer : () ->
		!(/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent))

	# Plugin
	HeadRoom : () ->
		console.log "headroom"
		$('.headroom').headroom
			"offset": 200
			"tolerance": 5
			"classess":
				"initial": "animated"
				"pinned": "slideDown"
				"unpinned": "slideUp"
	# Canvas
	DrawTab : () ->
		tabs = $('canvas.tab')
		for tab in tabs
			ctx = tab.getContext("2d")
			ctx.fillStyle = '#e13030'
			ctx.fillRect 0,0,30,7

	DrawToLine : () ->
		tabs = $('canvas.to')
		for tab in tabs
			ctx = tab.getContext("2d")
			ctx.strokeStyle = '#fff'
			ctx.lineWidth = 2
			ctx.moveTo 0,30
			ctx.lineTo 20,0
			ctx.stroke()
	# Modal
	ChangeData : (params) ->
		$('#pImg').attr "src", params.pic
		$('#pName').text params.name
		$('#pBrief').text params.brief
		$('#pDetail').html params.detail

	ClickToShowModal : () ->
		$("[class^='player-").click ->
			rawData = $(this).data "jden"
			window.base.ShowModal(rawData)

	ClicktoHideModal : () ->
		$('#closeModal').on 'click', ->
			$('.modal').modal("hide")

	ShowModal : (playerName) ->
		@data = window.data["#{playerName}"]
		window.base.ChangeData @data
		$('#info').modal "show"

	ChangeBackground : () ->
		$('.modal').on 'show.bs.modal', () ->
			$('section').addClass 'blur'
			#$('.headroom').headroom("destroy")
		$('.modal').on 'hide.bs.modal', () ->
			$('section').removeClass 'blur'
			#window.base.HeadRoom()

	# Reseter
	ResetSquireDivHeight : () ->
		@width = $(window).width()
		#console.log "Resizing...#{@width}px"
		if @width <= 960 && @width > 480
			$('[class^="player-"]').css("height", @width / 2)
		if @width <= 480
			$('[class^="player-"]').css("height", @width)
		#$('.players [class^="player-"]').css("height", $('[class^="player-"]').width())
		if @width > 960
			$('[class^="player-"]').css("height", @width / 2)
			$('.players [class^="player-"]').css("height", @width / 4)
	ResetInfoDivPosition : () ->
		@width = $(window).width()
		if @width <= 960 && @width > 480
			$('[class^="player-"] .info').css("top", @width / 2 - 20 - 70)
			$('[class^="player-"] .info').css("height", 70)
		if @width <= 480
			$('[class^="player-"] .info').css("top", @width - 20 - 70)
			$('[class^="player-"] .info').css("height", 70)
		if @width > 960
			$('[class^="player-"] .info').css("top", @width / 2 - 20 - 70)
			$('[class^="player-"] .info').css("height", 70)
			$('.players [class^="player-"] .info').css("top", @width / 4 - 20 - 50)
			$('.players [class^="player-"] .info').css("height", 50)
	ResetGoBackButtonPosition : () =>
		@width = $(window).width()
		if @width >= 960
			$('.goBack').css("height", @width / 4)
			$('.goBack').css("width", @width / 4)
		else
			$(".goBack").attr "style", ""
			console.log "You Don't Need To Reset!!!! HAAAAAAAAAAAAAA!!!!!"
# For Mobile Drivers
window.mobile =
	Init : () ->
		window.mobile.TapToShowModal()
		window.mobile.TapToHideModal()
	# Modal
	TapToShowModal : () ->
		rawData = $(this).data "jden"
		window.base.ShowModal(rawData)

	TapToHideModal : () ->
		$('.modal').modal("hide")

# Fastclient
$ ->
    FastClick.attach document.body
#window.base.ChangeBackground()
$(document).ready ->
	window.base.Init()
	return

window.onresize = ->
	window.base.ResetSquireDivHeight()
	window.base.ResetInfoDivPosition()
	window.base.ResetGoBackButtonPosition()
